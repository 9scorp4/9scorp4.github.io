/* Sidebar and Spacing Fix
   Path: assets/css/sidebar-layout-fix.css
   
   This focused CSS file properly restores sidebar functionality
   and fixes content spacing issues while maintaining mobile compatibility.
*/

/* ---------- CRITICAL - RESTORE CORE LAYOUT STRUCTURE ---------- */
/* Undo problematic display:none that broke sidebar visibility */
.author__avatar,
.sidebar {
  display: block !important; /* Restore elements we previously hid */
}

/* Fix proper grid layout structure */
@media (min-width: 768px) {
  #main {
    display: grid !important;
    grid-template-columns: 1fr 3fr !important; /* Ratio for sidebar:content */
    gap: 2rem !important;
  }
  
  /* FIX: Remove sticky positioning causing scroll issues */
  .sidebar {
    position: relative !important;
    top: 0 !important;
    height: auto !important;
    max-height: none !important; /* Remove max-height constraint */
    overflow: visible !important; /* Remove overflow scrolling */
  }
  
  /* Force content into correct column */
  .archive, 
  article.page {
    grid-column: 2 !important;
  }
  
  /* Force sidebar into correct column */
  .sidebar {
    grid-column: 1 !important;
    grid-row: 1 / span 20 !important; /* Span multiple rows */
  }
}

/* ---------- BREADCRUMB TO HEADING SPACING ---------- */
/* Add proper spacing between breadcrumbs and first heading */
.breadcrumbs {
  margin-bottom: 2rem !important; /* Increased space */
  border-bottom: 1px solid #e9ecef !important; /* Visual separator */
  padding-bottom: 0.75rem !important;
}

/* Ensure first heading has proper space */
.page__title,
h1:first-of-type,
.page__content h1:first-of-type {
  margin-top: 0 !important; /* Remove top margin as we added it to breadcrumbs */
  margin-bottom: 1.5rem !important; /* Ensure space below heading */
}

/* ---------- MOBILE-SPECIFIC ADJUSTMENTS ---------- */
@media (max-width: 767px) {
  /* For mobile, we keep a linear flow layout */
  #main {
    display: block !important;
  }
  
  /* Ensure mobile navigation stays at top */
  .sidebar {
    margin-bottom: 2rem !important;
  }
  
  /* Proper heading spacing on mobile */
  .page__title,
  h1:first-of-type {
    margin-top: 1rem !important;
  }
  
  /* Spacing after breadcrumbs on mobile */
  .breadcrumbs {
    margin-bottom: 1.5rem !important; /* Slightly less space on mobile */
  }
}

/* ---------- SIDEBAR CONTENT STYLING ---------- */
/* Compact navigation with minimal spacing */
.sidebar nav.nav__list {
  margin-top: 0.5rem !important; /* Reduced top margin */
}

.sidebar h3 {
  margin-top: 1rem !important; /* Reduced top margin */
  margin-bottom: 0.35rem !important; /* Reduced bottom margin */
  padding-bottom: 0.25rem !important; /* Reduced padding */
  border-bottom: 1px solid #e9ecef !important;
  font-size: 0.9rem !important; /* Smaller font size */
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  color: #536b7a !important; /* Slightly muted color */
}

/* Compact sidebar navigation with minimal spacing */
.sidebar .nav__items {
  padding-left: 0 !important;
  list-style-type: none !important;
  margin: 0 !important;
}

.sidebar .nav__items li {
  margin-bottom: 0.25rem !important; /* Significantly reduced spacing */
  line-height: 1.1 !important; /* Tighter line height */
}

/* Minimalist link styling */
.sidebar .nav__items a {
  display: block !important;
  padding: 0.25rem 0 !important; /* Reduced vertical padding */
  color: #3498DB !important;
  text-decoration: none !important;
  font-size: 0.85rem !important; /* Slightly smaller font */
  font-weight: normal !important;
  border-bottom: none !important; /* Remove separators */
}

.sidebar .nav__items a:hover {
  color: #2980B9 !important;
  text-decoration: none !important;
}

/* Location & social links styling */
.sidebar .author__urls {
  padding-left: 0 !important;
  list-style-type: none !important;
}

.sidebar .author__urls li {
  margin-bottom: 0.75rem !important;
}

.sidebar .author__urls a {
  display: flex !important;
  align-items: center !important;
  color: #3498DB !important;
  text-decoration: none !important;
}

.sidebar .author__urls a i {
  margin-right: 0.5rem !important;
  width: 1.25em !important; /* Fixed width for icons */
  text-align: center !important;
}

/* Normalize content margins */
p, 
.page__content p {
  margin-bottom: 1rem !important;
  line-height: 1.6 !important;
}