/* Mobile Layout Overhaul
   Path: assets/css/mobile-specific-fix.css
   
   This CSS specifically targets the mobile view, implementing a
   complete restructuring of elements for optimal small-screen display.
   
   IMPORTANT: These rules will only apply to screens smaller than 768px.
*/

/* -------- MOBILE-ONLY RULES -------- */
@media (max-width: 767px) {
    /* ---- CRITICAL LAYOUT RESTRUCTURING ---- */
    /* Force proper stacking order in mobile view */
    #main {
      display: flex !important;
      flex-direction: column !important;
      width: 100% !important;
    }
    
    /* Fix content wrapping on mobile */
    .page__content {
      width: 100% !important;
      float: none !important;
      clear: both !important;
      padding: 0.5rem 1rem !important;
    }
    
    /* Ensure proper grid flow on mobile */
    .archive, article.page {
      width: 100% !important;
      grid-column: 1 !important;
      padding: 0 !important;
    }
    
    /* Ensure sidebar stacks properly but remains at top */
    .sidebar {
      width: 100% !important;
      float: none !important;
      clear: both !important;
      order: 1 !important; /* Force sidebar to appear before content */
      margin-top: 0 !important; 
      margin-bottom: 1rem !important;
      padding: 0 1rem !important;
    }
    
    /* Move main content after sidebar */
    .archive, article.page, .page__content {
      width: 100% !important;
      float: none !important;
      clear: both !important;
      order: 2 !important; /* Force content after sidebar */
    }
    
    /* ---- HEADER OPTIMIZATION ---- */
    /* Proper header styling */
    .masthead {
      padding: 0.5rem 0 !important;
    }
    
    .masthead__inner-wrap {
      padding: 0.5rem 1rem !important;
    }
    
    /* Improve site title on mobile */
    .site-title {
      font-size: 1.1rem !important;
    }
    
    /* ---- AVATAR FIXES ---- */
    /* Force avatar to be circular with proper position */
    .author__avatar img,
    img.avatar,
    .avatar img {
      border-radius: 50% !important;
      width: 80px !important;
      height: 80px !important;
      border: 2px solid #3498DB !important;
      margin: 0 auto !important;
      display: block !important;
    }
    
    /* Fix avatar container */
    .author__avatar {
      width: auto !important;
      max-width: 80px !important;
      margin: 0 auto 0.75rem !important;
      float: none !important;
    }
    
    /* ---- CONTENT STRUCTURE ---- */
    /* Improve headings on mobile */
    h1, .page__title {
      font-size: 1.4rem !important;
      margin-top: 1rem !important;
      margin-bottom: 0.5rem !important;
      text-align: center !important;
    }
    
    /* Center bio text on mobile */
    .author__bio {
      text-align: center !important;
      margin-bottom: 1rem !important;
    }
    
    /* ---- NAVIGATION ELEMENTS ---- */
    /* Fix the location and connect links */
    .author__urls-wrapper {
      position: relative !important;
      width: 100% !important;
      margin: 0 auto !important;
    }
    
    /* Style the social/location links */
    .author__urls {
      display: flex !important;
      flex-direction: column !important;
      align-items: flex-start !important;
      padding-left: 0 !important;
      list-style-type: none !important;
      margin: 0 auto !important;
      width: fit-content !important;
    }
    
    .author__urls li {
      margin-bottom: 0.5rem !important;
    }
    
    .author__urls li i {
      width: 1.25em !important;
      text-align: center !important;
    }
  
    /* Fix toggle menu position */
    .toggle-menu, 
    button.toggle-menu {
      margin: 1rem auto !important;
      display: block !important;
      position: relative !important;
    }
    
    /* ---- NAVIGATION SECTION STYLING ---- */
    /* Style main navigation links */
    .nav__list {
      margin-top: 0.5rem !important;
    }
    
    /* Make navigation headings stand out */
    .nav__sub-title,
    .sidebar h3 {
      text-align: center !important;
      font-size: 1rem !important;
      margin: 1rem 0 0.5rem !important;
      padding-bottom: 0.25rem !important;
      border-bottom: 1px solid #e9ecef !important;
    }
    
    /* Improve links visibility on mobile */
    .nav__items a {
      font-size: 0.9rem !important;
      padding: 0.4rem 0 !important;
      text-align: center !important;
      display: block !important;
    }
    
    /* Fix breadcrumbs on mobile */
    .breadcrumbs {
      font-size: 0.8rem !important;
      padding: 0.25rem 0.5rem !important;
      white-space: normal !important; /* Allow wrapping */
    }
    
    /* Hide Connect button completely */
    .connect,
    a.connect,
    a[href="#connect"],
    .page__content .connect,
    #connect {
      display: none !important;
      visibility: hidden !important;
      height: 0 !important;
      width: 0 !important;
      overflow: hidden !important;
      padding: 0 !important;
      margin: 0 !important;
      opacity: 0 !important;
      pointer-events: none !important;
    }
    
    /* Fix scrollbar issues */
    body, html {
      overflow-x: hidden !important;
      max-width: 100vw !important;
    }
  }