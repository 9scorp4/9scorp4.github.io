// ==========================================================================
// LAYOUT
// ==========================================================================

// Container
// --------------------------------------------------------------------------
.container {
    width: 100%;
    max-width: $container-max-width;
    margin-left: auto;
    margin-right: auto;
    padding-left: $spacing-4;
    padding-right: $spacing-4;
    
    @media (min-width: $breakpoint-md) {
      padding-left: $spacing-6;
      padding-right: $spacing-6;
    }
  }
  
  // Grid System
  // --------------------------------------------------------------------------
  .row {
    display: flex;
    flex-wrap: wrap;
    margin-left: -$spacing-3;
    margin-right: -$spacing-3;
  }
  
  .col {
    position: relative;
    width: 100%;
    padding-left: $spacing-3;
    padding-right: $spacing-3;
  }
  
  // Columns for different breakpoints
  @media (min-width: $breakpoint-sm) {
    @for $i from 1 through 12 {
      .col-sm-#{$i} {
        flex: 0 0 percentage($i / 12);
        max-width: percentage($i / 12);
      }
    }
  }
  
  @media (min-width: $breakpoint-md) {
    @for $i from 1 through 12 {
      .col-md-#{$i} {
        flex: 0 0 percentage($i / 12);
        max-width: percentage($i / 12);
      }
    }
  }
  
  @media (min-width: $breakpoint-lg) {
    @for $i from 1 through 12 {
      .col-lg-#{$i} {
        flex: 0 0 percentage($i / 12);
        max-width: percentage($i / 12);
      }
    }
  }
  
  // Main Layout Structure
  // --------------------------------------------------------------------------
  #page {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  
  .masthead {
    position: relative;
    z-index: $z-index-sticky;
    background-color: $color-primary;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  #main {
    flex: 1 0 auto;
    width: 100%;
    
    @media (min-width: $breakpoint-lg) {
      display: flex;
    }
  }
  
  .sidebar {
    @media (min-width: $breakpoint-lg) {
      flex: 0 0 $sidebar-width;
      max-width: $sidebar-width;
      padding: $spacing-6 $spacing-4;
      
      &.sticky {
        position: sticky;
        top: $spacing-6;
        height: auto;
        max-height: calc(100vh - #{$spacing-6 * 2});
        overflow-y: auto;
      }
    }
  }
  
  .page__content,
  .archive {
    width: 100%;
    padding: $spacing-6 $spacing-4;
    
    @media (min-width: $breakpoint-lg) {
      flex: 0 0 $content-width;
      max-width: $content-width;
    }
  }
  
  .page__footer {
    margin-top: auto;
    padding: $spacing-8 0;
    background-color: $color-primary;
    color: white;
  }
  
  // Two-column Layout
  // --------------------------------------------------------------------------
  .two-column {
    @media (min-width: $breakpoint-md) {
      display: flex;
      margin-left: -$spacing-4;
      margin-right: -$spacing-4;
    }
    
    .column {
      width: 100%;
      padding: $spacing-4;
      
      @media (min-width: $breakpoint-md) {
        flex: 1;
      }
    }
  }
  
  // Card Layout
  // --------------------------------------------------------------------------
  .card {
    background-color: white;
    border-radius: $border-radius-lg;
    box-shadow: $box-shadow;
    padding: $spacing-5;
    margin-bottom: $spacing-5;
    transition: transform $transition-base, box-shadow $transition-base;
    
    &:hover {
      transform: translateY(-$spacing-1);
      box-shadow: $box-shadow-lg;
    }
  }
  
  // Spacing Helpers
  // --------------------------------------------------------------------------
  .mt-0 { margin-top: 0; }
  .mb-0 { margin-bottom: 0; }
  .ml-0 { margin-left: 0; }
  .mr-0 { margin-right: 0; }
  
  .mt-1 { margin-top: $spacing-1; }
  .mb-1 { margin-bottom: $spacing-1; }
  .ml-1 { margin-left: $spacing-1; }
  .mr-1 { margin-right: $spacing-1; }
  
  .mt-2 { margin-top: $spacing-2; }
  .mb-2 { margin-bottom: $spacing-2; }
  .ml-2 { margin-left: $spacing-2; }
  .mr-2 { margin-right: $spacing-2; }
  
  .mt-4 { margin-top: $spacing-4; }
  .mb-4 { margin-bottom: $spacing-4; }
  .ml-4 { margin-left: $spacing-4; }
  .mr-4 { margin-right: $spacing-4; }
  
  .mt-6 { margin-top: $spacing-6; }
  .mb-6 { margin-bottom: $spacing-6; }
  .ml-6 { margin-left: $spacing-6; }
  .mr-6 { margin-right: $spacing-6; }
  
  .mt-8 { margin-top: $spacing-8; }
  .mb-8 { margin-bottom: $spacing-8; }
  .ml-8 { margin-left: $spacing-8; }
  .mr-8 { margin-right: $spacing-8; }
  
  .pt-0 { padding-top: 0; }
  .pb-0 { padding-bottom: 0; }
  .pl-0 { padding-left: 0; }
  .pr-0 { padding-right: 0; }
  
  .pt-1 { padding-top: $spacing-1; }
  .pb-1 { padding-bottom: $spacing-1; }
  .pl-1 { padding-left: $spacing-1; }
  .pr-1 { padding-right: $spacing-1; }
  
  .pt-2 { padding-top: $spacing-2; }
  .pb-2 { padding-bottom: $spacing-2; }
  .pl-2 { padding-left: $spacing-2; }
  .pr-2 { padding-right: $spacing-2; }
  
  .pt-4 { padding-top: $spacing-4; }
  .pb-4 { padding-bottom: $spacing-4; }
  .pl-4 { padding-left: $spacing-4; }
  .pr-4 { padding-right: $spacing-4; }
  
  .pt-6 { padding-top: $spacing-6; }
  .pb-6 { padding-bottom: $spacing-6; }
  .pl-6 { padding-left: $spacing-6; }
  .pr-6 { padding-right: $spacing-6; }